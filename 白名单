local CoreGui = game:GetService("StarterGui") -- Variable of StarterGui

CoreGui:SetCore("SendNotification", {
    -- Customizable
    Title = "脚本启动",
    Text = "脚本启动",
    Duration = 1, --时间
})

local CoreGui = game:GetService("StarterGui") -- Variable of StarterGui

local Whitelisted = false;

if game.Players.LocalPlayer.Name == "TMD2540z" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "玩家用户名2" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "可以重复" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "可以重复" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "可以重复" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "可以重复" then 
Whitelisted = true 
end

if Whitelisted == true then

CoreGui:SetCore("SendNotification", {
    -- Customizable
    Title = "白名单认证",
    Text = "玩家:"..game.Players.LocalPlayer.Name.."，检测完毕白名单玩家 稍后会加载脚本",
    Duration = 7, --时间
}) 
   
-- 查找并瞬移到印钞机
local function findAndTeleportToMoneyPrinter()
    local workspace = game:GetService('Workspace')
    local entitiesFolder = workspace.Game.Entities.ItemPickup
    local humanoidRootPart = game.Players.LocalPlayer.Character.HumanoidRootPart
    
    for _, item in pairs(entitiesFolder:GetChildren()) do
        for _, part in pairs(item:GetChildren()) do
            if part.ClassName == 'MeshPart' or part.ClassName == 'Part' then
                for _, proximityPrompt in pairs(part:GetChildren()) do
                    if proximityPrompt.ClassName == 'ProximityPrompt' and proximityPrompt.ObjectText == 'Money Printer' then
                        humanoidRootPart.CFrame = part.CFrame
                        break
                    end
                end
            end
        end
    end
    
    -- 移除所有BillboardGui
    for _, item in pairs(entitiesFolder:GetChildren()) do
        for _, child in pairs(item:GetChildren()) do
            if child.ClassName == 'BillboardGui' then
                child:Remove()
            end
        end
    end
end

-- 执行服务器切换
local function switchServer()
    game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
end

-- 主逻辑
findAndTeleportToMoneyPrinter() -- 立即执行查找并瞬移到印钞机
wait(5) -- 等待5秒
switchServer() -- 切换服务器
   
   else
       game.Players.LocalPlayer:Kick("You have been kicked out of the server, automatic execution time 23:59:59")--踢人函数
   end